@model Trakt.Models.IndexViewModel

@{
   ViewBag.Title = "Dashboard";
}

<div class="jumbotron">
   <h1>Trakt</h1>
   <p class="lead">Bekijk hier welke films en series er beschikbaar zijn.</p>
   @if (Model.Gebruiker.Archief.Count > 0)
   {
      <p class="">U kan ook zien welke films en series er al op uw schijf staan in '@Html.ActionLink("Mijn Archieven", "Index", "Archieven")'</p>
   }
</div>
<hr />
@*<div class="row">
      <div id="carousel-example-generic" class="carousel slide" data-ride="carousel">
        <!-- Indicators -->
        <ol class="carousel-indicators">
          @for(var i = 0; i < Model.Highlights.Count; i++)
          {
            var c = "";
            if (i == 0)
            {
               c = "active";
            }
            <li data-target="#carousel-example-generic" data-slide-to="@i" class="@c"></li>
          }
        </ol>

        <!-- Wrapper for slides -->
        <div class="carousel-inner" role="listbox">
        @for (var i = 0; i < Model.Highlights.Count; i++)
        {
           var c = "";
           if (i == 0)
           {
              c = "active";
           }
            <div class="item @c">
              <img src="@highlight.Banner" alt="@highlight.Naam">
              <div class="carousel-caption">@highlight.Naam</div>
            </div>
         }
        </div>

        <!-- Controls -->
        <a class="left carousel-control" href="#carousel-example-generic" role="button" data-slide="prev">
          <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
          <span class="sr-only">Previous</span>
        </a>
        <a class="right carousel-control" href="#carousel-example-generic" role="button" data-slide="next">
          <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
          <span class="sr-only">Next</span>
        </a>
      </div>
   </div>
   <hr />*@
@using (Html.BeginForm("Index", "Films", FormMethod.Post, new { @id = "laatstToegevoegd" }))
{
   var model = new Trakt.Models.FilmViewModel()
   {
      Sorteren = BL.Domain.FilmSortEnum.Toegevoegd,
      MaxFilms = Trakt.Models.FilterMax.Dertig
   };
   <h1><a href="javascript:void(0)" onclick="document.getElementById('laatstToegevoegd').submit();">Laatst toegevoegde films</a></h1>
   @Html.HiddenFor(m => model.Sorteren);
   @Html.HiddenFor(m => model.MaxFilms);
}

<div class="testimonial-group">
   <div class="row">
      @foreach (var film in Model.LaatsteFilms)
      {
         <div class="col-lg-3 col-md-4 col-md-offset-0 col-sm-5 col-sm-offset-1 poster">
            <a href="@Url.Action("Details", "Films", new { id = @film.ID })" title="@film.Naam">
               <img src="https://image.tmdb.org/t/p/w300/@film.PosterPath" onerror="this.src='/Content/Images/no_image.png'" class="image" alt="@film.Naam" style="max-width:100%; height:400px" />
               <div class="overlayPoster">
                  <div class="posterOverlayContent">
                     <i class="glyphicon glyphicon-calendar"></i>
                     @DateTime.Parse(film.ReleaseDate).ToString("dd/MM/yyyy")
                  </div>
               </div>
            </a>
         </div>
      }
   </div>
</div>
@using (Html.BeginForm("Index", "Films", FormMethod.Post, new { @id = "nieuwsteFilms" }))
{
   var model = new Trakt.Models.FilmViewModel()
   {
      Sorteren = BL.Domain.FilmSortEnum.Release_Desc,
      MaxFilms = Trakt.Models.FilterMax.Dertig
   };
   <h1><a href="javascript:void(0)" onclick="document.getElementById('nieuwsteFilms').submit();">Laatste nieuwe films</a></h1>
   @Html.HiddenFor(m => model.Sorteren);
   @Html.HiddenFor(m => model.MaxFilms);
}

<div class="testimonial-group">
   <div class="row">
      @foreach (var film in Model.NieuwsteFilms)
      {
         <div class="col-lg-3 col-md-4 col-md-offset-0 col-sm-5 col-sm-offset-1 poster">
            <a href="@Url.Action("Details", "Films", new { id = @film.ID })" title="@film.Naam">
               <img src="https://image.tmdb.org/t/p/w300/@film.PosterPath" onerror="this.src='/Content/Images/no_image.png'" class="image" alt="@film.Naam" style="max-width:100%; height:400px" />
               <div class="overlayPoster">
                  <div class="posterOverlayContent">
                     <i class="glyphicon glyphicon-calendar"></i>
                     @DateTime.Parse(film.ReleaseDate).ToString("dd/MM/yyyy")
                  </div>
               </div>
            </a>
         </div>
      }
   </div>
</div>
<h1>Laatst toegevoegde afleveringen</h1>
<div class="row">
   @foreach (var aflevering in Model.Afleveringen)
   {
      <div class="col-md-2 col-sm-6 col-xs-12 poster">
         <a href="@Url.Action("Details", "Aflevering", new { id = aflevering.ID })" title="@aflevering.Naam">
            @{
               var actSrc = "";
               var posterClass = "poster";
               var overlayClass = "overlayPoster";

               if (aflevering.ImagePath == null)
               {
                  posterClass += " posterhovered";
                  overlayClass += " overlayhovered";
               }
               else
               {
                  actSrc = aflevering.ImagePath;
               }
            }
            <img src="@actSrc" class="image" onerror="this.src='/Content/Images/no_image.png'" alt="@aflevering.Naam" style="width:100%;max-height:140px" />
            <div class="overlayPoster" style="transition:none; opacity:.8;">
               <div class="posterOverlayContent" style="font-size: small;">
                  <span>S</span>@aflevering.Seizoen.ToString("00")<span>E</span>@aflevering.Nummer.ToString("00")
                  <br />
                  <span style="font-size:smaller">@aflevering.Serie.Naam</span>
               </div>
            </div>
         </a>
      </div>
   }
</div>
<hr />
<h1>Random Films</h1>
<div class="testimonial-group">
   <div class="row">
      @foreach (var film in Model.RandomFilms)
      {
         <div class="col-lg-3 col-md-4 col-md-offset-0 col-sm-5 col-sm-offset-1 poster">
            <a href="@Url.Action("Details", "Films", new { id = @film.ID })" title="@film.Naam">
               <img src="https://image.tmdb.org/t/p/w300/@film.PosterPath" onerror="this.src='/Content/Images/no_image.png'" class="image" alt="@film.Naam" style="max-width:100%; height:400px" />
               <div class="overlayPoster">
                  <div class="posterOverlayContent">
                     <i class="glyphicon glyphicon-calendar"></i>
                     @DateTime.Parse(film.ReleaseDate).ToString("dd/MM/yyyy")
                  </div>
               </div>
            </a>
         </div>
      }
   </div>
</div>
